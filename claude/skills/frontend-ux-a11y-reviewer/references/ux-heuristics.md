# UXヒューリスティクスとアンチパターン

コードレベルで検出可能なUX問題のチェックリスト。
Nielsenの10ヒューリスティクスをベースに、コード解析で発見できるパターンに特化。

## 目次
1. [システム状態の可視性](#1-システム状態の可視性)
2. [実世界との一致](#2-実世界との一致)
3. [ユーザーの制御と自由](#3-ユーザーの制御と自由)
4. [一貫性と標準](#4-一貫性と標準)
5. [エラー防止](#5-エラー防止)
6. [記憶負荷の軽減](#6-記憶負荷の軽減)
7. [柔軟性と効率](#7-柔軟性と効率)
8. [美的で最小限のデザイン](#8-美的で最小限のデザイン)
9. [エラー回復の支援](#9-エラー回復の支援)
10. [レスポンシブとパフォーマンス](#10-レスポンシブとパフォーマンス)

## 1. システム状態の可視性

### 検出可能なパターン
| ID | 問題 | 検出方法 | 改善案 |
|----|------|---------|--------|
| UX-1 | 非同期処理中にローディング表示がない | `fetch`/`async`呼び出し周辺にローディング状態の管理なし | spinner/skeleton/progress表示を追加 |
| UX-2 | フォーム送信後のフィードバックがない | `submit`ハンドラ内に成功/エラー通知なし | toast/バナーで結果を通知 |
| UX-3 | ページネーションの現在位置が不明 | `aria-current`なし、アクティブ状態のスタイルなし | 現在ページをハイライト |
| UX-4 | ファイルアップロードの進捗表示がない | `XMLHttpRequest.upload.onprogress`未使用 | プログレスバーを追加 |

## 2. 実世界との一致

### 検出可能なパターン
| ID | 問題 | 検出方法 | 改善案 |
|----|------|---------|--------|
| UX-5 | 技術的なエラーメッセージがそのまま表示される | `error.message`や`error.stack`の直接表示 | ユーザーフレンドリーなメッセージに変換 |
| UX-6 | 日付形式がロケール非対応 | `toISOString()`等の固定フォーマット | `Intl.DateTimeFormat`を使用 |
| UX-7 | 数値形式がロケール非対応 | 固定小数点/通貨フォーマット | `Intl.NumberFormat`を使用 |

## 3. ユーザーの制御と自由

### 検出可能なパターン
| ID | 問題 | 検出方法 | 改善案 |
|----|------|---------|--------|
| UX-8 | モーダルの閉じる手段が不十分 | Escape/オーバーレイクリック/閉じるボタンの欠如 | 3つすべてを実装 |
| UX-9 | 破壊的操作に確認ダイアログがない | 削除/送信ハンドラに確認ステップなし | `confirm`またはカスタムダイアログ |
| UX-10 | ブラウザの戻る操作でSPA状態が失われる | `history.pushState`/`popstate`未使用 | ルーター状態をURLに反映 |
| UX-11 | フォーム入力のクリア/リセット手段がない | リセットボタンなし（長いフォームの場合） | リセット/クリア機能を提供 |

## 4. 一貫性と標準

### 検出可能なパターン
| ID | 問題 | 検出方法 | 改善案 |
|----|------|---------|--------|
| UX-12 | ボタンとリンクの使い分けが不適切 | ナビゲーションに`<button>`、アクションに`<a>` | `<a>`=ナビ、`<button>`=アクション |
| UX-13 | 同一コンポーネントでスタイルが不統一 | 同じ役割のコンポーネントでクラス名がばらばら | 共通コンポーネント/デザインシステム |
| UX-14 | 間隔やサイズがトークン化されていない | マジックナンバーの`padding`/`margin` | デザイントークン/CSS変数を使用 |
| UX-15 | `<a href="#">`または`<a href="javascript:void(0)">`の使用 | リンクをボタン代わりに使用 | `<button>`に変更 |

## 5. エラー防止

### 検出可能なパターン
| ID | 問題 | 検出方法 | 改善案 |
|----|------|---------|--------|
| UX-16 | 入力のリアルタイムバリデーションがない | `onBlur`/`onChange`でのバリデーションなし | インライン検証を追加 |
| UX-17 | 適切な`type`属性がフォーム入力にない | メール入力に`type="text"`等 | `type="email"`, `type="tel"`等 |
| UX-18 | `inputmode`属性が設定されていない | 数値入力に`inputmode`なし | `inputmode="numeric"`等 |
| UX-19 | 文字数制限の表示がない | `maxlength`はあるが残文字数表示なし | カウンターUI追加 |
| UX-20 | 二重送信の防止策がない | 送信ボタンの`disabled`制御なし | 送信中はボタンを無効化 |

## 6. 記憶負荷の軽減

### 検出可能なパターン
| ID | 問題 | 検出方法 | 改善案 |
|----|------|---------|--------|
| UX-21 | `placeholder`がラベルの代わりに使用されている | `<label>`なしで`placeholder`のみ | ラベルを追加 |
| UX-22 | 入力フォーマットのヒントがない | パターン制約のある入力にヒントなし | `aria-describedby`でヒントを追加 |
| UX-23 | 複雑なフォームにステップ表示がない | 多数のフィールドが一画面に | ウィザード/ステッパーUI |

## 7. 柔軟性と効率

### 検出可能なパターン
| ID | 問題 | 検出方法 | 改善案 |
|----|------|---------|--------|
| UX-24 | 検索/フィルター機能がリスト表示にない | 長いリストに検索UIなし | フィルター/検索を追加 |
| UX-25 | キーボードショートカットがない（パワーユーザー向け） | ショートカット定義なし（アプリケーション型UI） | `accesskey`またはカスタムショートカット |

## 8. 美的で最小限のデザイン

### 検出可能なパターン
| ID | 問題 | 検出方法 | 改善案 |
|----|------|---------|--------|
| UX-26 | 空状態のデザインがない | データなし時の表示処理なし | empty stateコンポーネント |
| UX-27 | コンテンツ読み込み中にレイアウトシフトが発生 | `width`/`height`未指定の画像、skeleton未使用 | サイズ指定/skeleton screen |

## 9. エラー回復の支援

### 検出可能なパターン
| ID | 問題 | 検出方法 | 改善案 |
|----|------|---------|--------|
| UX-28 | エラー時のリトライ手段がない | `catch`ブロックでエラー表示のみ | リトライボタンを追加 |
| UX-29 | ネットワークエラーのハンドリングがない | `fetch`のネットワークエラー未考慮 | オフライン/接続エラー表示 |
| UX-30 | 404ページがない/カスタマイズされていない | デフォルト404ページ | ナビ付きカスタム404 |

## 10. レスポンシブとパフォーマンス

### 検出可能なパターン
| ID | 問題 | 検出方法 | 改善案 |
|----|------|---------|--------|
| UX-31 | レスポンシブ対応がない | `@media`クエリなし、固定幅レイアウト | メディアクエリ/fluid layout |
| UX-32 | 画像の最適化がない | `srcset`/`<picture>`未使用、大きな画像 | レスポンシブ画像を実装 |
| UX-33 | 遅延読み込みがない | `loading="lazy"`未使用 | ビューポート外の画像を遅延読み込み |
| UX-34 | バンドルサイズに問題がある | 巨大なライブラリのimport | tree-shaking/dynamic import |
