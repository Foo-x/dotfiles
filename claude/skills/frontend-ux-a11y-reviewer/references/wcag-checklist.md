# WCAG 2.2 アクセシビリティチェックリスト

フロントエンドコード解析で検出可能な項目に絞った実践的チェックリスト。
各項目にWCAG達成基準番号と重大度（Critical/Major/Minor）を記載。

## 1. 知覚可能 (Perceivable)

### 1.1 テキスト代替
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| P-1 | `<img>`に`alt`属性がある | Critical | `<img>`に`alt`なし |
| P-2 | 装飾画像は`alt=""`または`role="presentation"` | Major | 意味のない`alt`（"image", "photo"等） |
| P-3 | `<svg>`に`aria-label`または`<title>`がある | Major | `<svg>`にラベルなし |
| P-4 | `<input type="image">`に`alt`がある | Critical | `alt`なしの画像ボタン |
| P-5 | アイコンフォント使用時にテキスト代替がある | Major | `aria-hidden="true"`なしのアイコン要素 |

### 1.2 時間依存メディア
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| P-6 | `<video>`に`<track kind="captions">`がある | Major | `<track>`なしの`<video>` |
| P-7 | `<audio>`にトランスクリプトへのリンクがある | Major | 単独の`<audio>`要素 |

### 1.3 適応可能
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| P-8 | 見出し階層が論理的（h1→h2→h3、飛ばしなし） | Major | `<h1>`の後に`<h3>`等 |
| P-9 | `<table>`にヘッダーセル`<th>`がある | Major | `<th>`なしの`<table>` |
| P-10 | フォーム入力に`<label>`が関連付けられている | Critical | `for`/`id`不一致、ラベルなし |
| P-11 | ランドマーク要素を使用（`<main>`, `<nav>`, `<header>`等） | Minor | `<div>`のみの構造 |
| P-12 | リスト構造に`<ul>/<ol>/<dl>`を使用 | Minor | リスト的コンテンツが`<div>`のみ |
| P-13 | `autocomplete`属性が個人情報入力に設定されている | Minor | name/email/tel等の入力に`autocomplete`なし |

### 1.4 判別可能
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| P-14 | テキストのコントラスト比が4.5:1以上（通常）/ 3:1以上（大文字） | Critical | CSS `color`と`background-color`の組み合わせ |
| P-15 | テキストリサイズ200%で情報が失われない | Major | `overflow: hidden`+固定高さ |
| P-16 | `user-scalable=no`を使っていない | Critical | `<meta name="viewport">`の値 |
| P-17 | `:focus`スタイルが定義されている | Critical | `outline: none`/`outline: 0`のみで代替なし |
| P-18 | リフロー: 横スクロール不要（320px幅時） | Major | 固定幅レイアウト |
| P-19 | `prefers-reduced-motion`に対応している | Minor | アニメーション使用時にメディアクエリなし |

## 2. 操作可能 (Operable)

### 2.1 キーボード
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| O-1 | クリックハンドラのある要素がキーボード操作可能 | Critical | `onClick`のみで`onKeyDown`/`onKeyPress`なし（非インタラクティブ要素） |
| O-2 | `tabindex`が0以下（正の値を使わない） | Major | `tabindex="1"`以上 |
| O-3 | カスタムコンポーネントにキーボードサポートがある | Critical | `role="button"`に`onKeyDown`なし |
| O-4 | フォーカストラップが適切（モーダル等） | Major | モーダルにフォーカス管理なし |
| O-5 | スキップリンクがある | Minor | ページ先頭に`#main`等へのリンクなし |

### 2.2 十分な時間
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| O-6 | 自動消去される通知に十分な表示時間がある | Major | toast/snackbarのタイムアウトが5秒未満 |
| O-7 | 自動更新コンテンツに停止手段がある | Major | `setInterval`で自動更新するUI |

### 2.4 ナビゲーション
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| O-8 | ページに`<title>`がある | Major | `<title>`が空または汎用的 |
| O-9 | リンクテキストが目的を示している | Major | "こちら", "click here"等の汎用テキスト |
| O-10 | フォーカス順序が論理的 | Major | CSSの`order`プロパティでDOM順序と乖離 |

### 2.5 入力モダリティ
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| O-11 | タッチターゲットが24x24px以上 | Major | 小さいクリック領域のインタラクティブ要素 |

## 3. 理解可能 (Understandable)

### 3.1 読みやすさ
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| U-1 | `<html>`に`lang`属性がある | Critical | `lang`なしの`<html>` |
| U-2 | 言語が変わる箇所に`lang`属性がある | Minor | 多言語コンテンツ |

### 3.2 予測可能
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| U-3 | フォーカス時に自動的にコンテキストが変わらない | Major | `onFocus`/`onBlur`でナビゲーション |
| U-4 | 入力変更時に予期しないコンテキスト変更がない | Major | `onChange`で自動submit |

### 3.3 入力支援
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| U-5 | フォームにエラーメッセージが表示される | Major | バリデーションエラーの通知手段なし |
| U-6 | 必須フィールドが明示されている | Major | `required`/`aria-required`なし |
| U-7 | エラー箇所が特定可能 | Major | `aria-invalid`/`aria-describedby`なし |

## 4. 堅牢 (Robust)

### 4.1 互換性
| ID | チェック項目 | 重大度 | 検出パターン |
|----|-------------|--------|-------------|
| R-1 | カスタムウィジェットに適切な`role`がある | Critical | `<div>`にクリックハンドラのみ |
| R-2 | `aria-*`属性の値が正しい | Critical | 無効な`aria-*`値、`role`との不整合 |
| R-3 | 名前(name)と役割(role)が支援技術に公開されている | Critical | ラベルなしのインタラクティブ要素 |
| R-4 | ステータスメッセージに`role="status"`/`aria-live`がある | Major | 動的メッセージに`aria-live`なし |
