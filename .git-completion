if ! type git &> /dev/null; then
    return
fi

SCRIPT_DIR=$(cd $(dirname ${BASH_SOURCE:-$0}); pwd)

. ${SCRIPT_DIR}/git-prompt.sh

if [[ ! $(uname -a) =~ "Microsoft|microsoft" ]]; then
  . ${SCRIPT_DIR}/git-completion.bash
fi

if which hub &> /dev/null; then
  alias git='hub'
  . ${SCRIPT_DIR}/hub.bash_completion.sh
fi

# lighter
export PS1='\n\[\033[92m\]\u \[\033[93m\]&:\j \[\033[94m\]\w\[\033[91m\]$(__git_ps1)\n$(if [[ $? == "0" ]]; then echo \[\033[92m\]:\); else echo \[\033[91m\]:\(; fi)\[\033[00m\] '

# darker
#export PS1='\n\[\033[32m\]\u \[\033[33m\]&:\j \[\033[34m\]\w\[\033[31m\]$(__git_ps1)\n$(if [[ $? == "0" ]]; then echo \[\033[32m\]:\); else echo \[\033[31m\]:\(; fi)\[\033[00m\] '

GIT_PS1_SHOWDIRTYSTATE=1  # show if files are changed or not
GIT_PS1_SHOWUPSTREAM=1  # show diff from upstream
